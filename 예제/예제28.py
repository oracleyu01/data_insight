##▣ 예제28. 트리맵(Treemap) 시각화

## 1. 트리맵(Treemap) 시각화
트리맵(Treemap)은 계층적 데이터를 사각형 영역을 사용하여 시각적으로 표현하는 기법입니다. 각 사각형의 크기는 데이터 값의 크기를 반영하며, 색상 등을 활용하여 추가적인 정보를 전달할 수 있습니다.

## 1.1 트리맵의 특징
- 계층적 데이터(카테고리 및 하위 카테고리)를 효과적으로 시각화
- 데이터의 상대적인 크기와 비율을 한눈에 확인 가능
- 색상과 크기를 활용하여 다차원 데이터를 표현 가능

## 1.2 Plotly를 이용한 기본 트리맵 만들기
Plotly의 `px.treemap()` 함수를 사용하면 쉽게 트리맵을 생성할 수 있습니다.
```python
import plotly.express as px
import pandas as pd

# 샘플 데이터 생성
df = pd.DataFrame({
    "지역": ["아시아", "아시아", "아시아", "유럽", "유럽", "북미", "북미"],
    "국가": ["중국", "일본", "한국", "독일", "영국", "미국", "캐나다"],
    "GDP": [14000, 5000, 1800, 4000, 2700, 21000, 1800]
})

# 트리맵 생성
fig = px.treemap(df, path=["지역", "국가"], values="GDP", title="국가별 GDP 트리맵")
fig.show()
```

## 1.3 색상을 추가한 트리맵
값에 따라 색상을 추가하여 데이터를 강조할 수 있습니다.
```python
fig = px.treemap(df, path=["지역", "국가"], values="GDP", color="GDP", color_continuous_scale="Blues", title="국가별 GDP 트리맵")
fig.show()
```

## 1.4 다중 계층 트리맵
더 많은 계층을 포함한 트리맵을 만들 수 있습니다.
```python
df = pd.DataFrame({
    "대륙": ["아시아", "아시아", "아시아", "유럽", "유럽", "북미", "북미"],
    "국가": ["중국", "일본", "한국", "독일", "영국", "미국", "캐나다"],
    "도시": ["베이징", "도쿄", "서울", "베를린", "런던", "뉴욕", "토론토"],
    "GDP": [14000, 5000, 1800, 4000, 2700, 21000, 1800]
})

fig = px.treemap(df, path=["대륙", "국가", "도시"], values="GDP", title="대륙-국가-도시별 GDP 트리맵")
fig.show()
```

## 1.5 트리맵의 활용 예시
- 시장 점유율 분석
- 조직 구조 시각화
- 파일 시스템 사용량 분석

## 1.6 객관식 문제
다음 중 트리맵을 생성하는 Plotly 함수는 무엇인가?

A) px.bar()
B) px.scatter()
C) px.treemap()
D) px.histogram()

정답: C
